View(usa_g)
usa_g <- usa %>%
gather(year, pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(year, pais) %>%
count() %>%
ungroup()
View(usa_g)
usa_g <- usa %>%
gather(year, pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(year, pais) %>%
count() %>%
ungroup() %>%
spread(year, n)
View(usa_g)
usa_g <- usa %>%
gather(year, pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(year, pais) %>%
count() %>%
ungroup() %>%
spread(pais, n)
View(usa_g)
usa_g <- usa %>%
gather(year, pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(year, pais) %>%
count() %>%
ungroup() %>%
spread(year, n)
usa_g <- usa %>%
gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(pais) %>%
count() %>%
ungroup() %>%
spread(year, n)
usa_g <- usa %>%
gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(pais) %>%
count() %>%
ungroup() %>%
spread(pais, n)
View(usa_g)
usa_g <- usa %>%
gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(pais) %>%
count() %>%
ungroup()
View(usa_g)
usa_g <- usa %>%
gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(pais) %>%
count()
View(usa_g)
usa_g <- usa %>%
gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(pais)
usa_g <- usa %>%
gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(pais) %>%
dplyr::count() %>%
dplyr::ungroup() %>%
tidyr::spread(pais, n)
View(usa_g)
usa_g <- usa %>%
tidyr::gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
dplyr::group_by(pais) %>%
dplyr::count() %>%
dplyr::ungroup() %>%
tidyr::spread(pais, n)
usa_g <- usa %>%
tidyr::gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
dplyr::group_by(pais) %>%
summarise(no=n()) %>%
tidyr::spread(pais, no)
View(usa_g)
els <- read.csv('Data/elsLAPOP.csv', encoding = 'latin1')
guate <- read.csv('Data/guateLAPOP.csv', encoding='latin1')
hond <- read.csv('Data/hondLAPOP.csv', encoding='latin1')
els$pais[els$pais==3] <- "El Salvador"
guate$pais[guate$pais==2] <- "Guatemala"
hond$pais[hond$pais==4] <- "Honduras"
cols_to_keep <- intersect(colnames(els), colnames(guate))
g <- guate[, cols_to_keep, drop=FALSE]
e <- els[, cols_to_keep, drop=FALSE]
bind <- smartbind(g, e)
cols_to_keep <- intersect(colnames(bind), colnames(hond))
h <- hond[, cols_to_keep, drop=FALSE]
b <- bind[, cols_to_keep, drop=FALSE]
final <- smartbind(h, b)
rm(cols_to_keep, g, e, h, b, bind)
inter <- final %>%
select(year, pais, q14) %>%
group_by(year, pais) %>%
add_tally() %>%
add_count(q14)
inter$perc <- (inter$nn / inter$n) * 100
to_graph <- inter %>%
select(year, pais, perc, q14) %>%
group_by(year, pais) %>%
arrange(q14) %>%
slice(1)
mario_theme <- theme(plot.title = element_text(color='#7a0177', size=14, face='bold'),
plot.subtitle = element_text(color='black', size=12, face='italic'),
axis.title.x = element_text(color='black', size=10),
axis.title.y = element_text(color='black', size=10),
plot.caption = element_text(color='grey', size=8),
legend.title = element_text(face='bold', size=8),
legend.position = 'bottom', legend.direction = 'horizontal', legend.box = 'horizontal',
legend.key.size = unit(0.5, 'cm'),
panel.background = element_blank())
plot <- ggplot(to_graph, aes(x=as.factor(year), y=pais, fill=perc)) + geom_tile(aes(fill=perc)) + geom_text(aes(label=round(perc, 1), fontface='bold')) + scale_fill_gradient(low='#feebe2', high='#7a0177')
labels <- labs(title = 'Since 2012, the percentage of Honduran residents planning to emigrate has increased nearly 30%',
subtitle = 'Across the region, there are notable increases in plans to emigrate since 2012',
caption = 'Source: LAPOP 2010-2016',
x = 'Year',
y = 'Country',
fill = '% planning to emigrate')
update_theme <- theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid = element_blank(),
axis.ticks = element_blank())
plot + labels + mario_theme + update_theme
hmex <- read.csv('Data/honddev2017mex.csv')
hmex$pais <- 'Honduras'
hmex$deported <- 'Mexico'
husa <- read.csv('Data/honddev2017usa.csv')
husa$pais <- 'Honduras'
husa$deported <- 'USA'
gmex <- read.csv('Data/guatedev2017mex.csv')
gmex$pais <- 'Guatemala'
gmex$deported <- 'Mexico'
gusa <- read.csv('Data/guatedev2017usa.csv')
gusa$pais <- 'Guatemala'
gusa$deported <- 'USA'
emex <- read.csv('Data/elsdev2017mex.csv')
emex$pais <- 'El Salvador'
emex$deported <- 'Mexico'
eusa <- read.csv('Data/elsdev2017usa.csv')
eusa$pais <- 'El Salvador'
eusa$deported <- 'USA'
usa1 <- smartbind(eusa, gusa)
usa <- smartbind(usa1, husa)
rm(usa1)
mex1 <- smartbind(emex, gmex)
mex <- smartbind(mex1, hmex)
rm(mex1)
usa_g <- usa %>%
gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(pais) %>%
summarise(no=n()) %>%
spread(pais, no)
View(usa_g)
usa_g <- usa %>%
gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14) %>%
group_by(pais)
View(usa_g)
usa_g <- usa %>%
gather(pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13, p18_14)
View(usa)
usa_g <- usa %>%
select(sexo, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13) %>%
group_by(sexo)
View(usa_g)
usa_g <- usa %>%
select(sexo, pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13) %>%
group_by(sexo, pais)
View(usa_g)
usa_g <- usa %>%
select(sexo, pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13) %>%
group_by(sexo, pais) %>%
filter(p18_1 > 0, p18_2 > 0, p18_3 >0, p18_4 > 0, p18_5 > 0, p18_6 > 0, p18_7 > 0, p18_8 > 0, p18_9 > 0, p18_10 > 0, p18_11 > 0, p18_12 > 0, p18_13 > 0) %>%
filter(p18_1 < 10, p18_2 < 10, p18_3 <10, p18_4 < 10, p18_5 < 10, p18_6 < 10, p18_7 < 10, p18_8 < 10, p18_9 < 10, p18_10 < 10, p18_11 < 10, p18_12 < 10, p18_13 < 10)
View(usa_g)
usa_g[usa_g==2] <- 0
usa_perc <- group_by(sexo, pais) %>%
summarise_all(count)
usa_perc <- usa_g %>%
group_by(sexo, pais) %>%
summarise_all(count)
usa_perc <- usa_g %>%
group_by(sexo, pais)
usa_perc <- usa_g %>%
group_by(sexo, pais) %>%
summarise_all(n = sum(n))
usa_perc <- usa_g %>%
group_by(sexo, pais) %>%
summarise_all(mean)
View(usa_perc)
usa_perc <- usa_g %>%
group_by(sexo, pais) %>%
summarise_all(mean * 100)
View(usa_perc)
usa_perc <- usa_g %>%
group_by(sexo, pais) %>%
summarise_all(mean) * 100
usa_perc <- usa_g %>%
group_by(sexo, pais) %>%
summarise_all(funs(mean*100))
usa_perc <- usa_g %>%
group_by(sexo, pais) %>%
summarise_all(mean) %>%
select(sexo, pais, p18_1, p18_2, p18_6, p18_8, p18_9)
colnames(usa_perc)[colnames(usa_perc)=="p18_1"] <- "Extreme Cold"
colnames(usa_perc)[colnames(usa_perc)=="p18_2"] <- "Lack of Food"
colnames(usa_perc)[colnames(usa_perc)=="p18_6"] <- "Lost"
colnames(usa_perc)[colnames(usa_perc)=="p18_8"] <- "Abandoned by Coyote"
colnames(usa_perc)[colnames(usa_perc)=="p18_9"] <- "Assault or Robbery"
View(usa_perc)
mario_theme <- theme(plot.title = element_text(color='#7a0177', size=14, face='bold'),
plot.subtitle = element_text(color='black', size=12, face='italic'),
axis.title.x = element_text(color='black', size=10),
axis.title.y = element_text(color='black', size=10),
plot.caption = element_text(color='grey', size=8),
legend.title = element_text(face='bold', size=8),
legend.position = 'bottom', legend.direction = 'horizontal', legend.box = 'horizontal',
legend.key.size = unit(0.5, 'cm'),
panel.background = element_blank())
# Melt
usa_perc$melt <- row.names(usa_perc)
View(usa_perc)
melt <- melt(usa_perc, id='melt')
# Melt
library(reshape2)
melt <- melt(usa_perc, id='melt')
View(melt)
usa_perc$melt <- row.names(usa_perc[2:6])
melt <- melt(usa_perc, id='melt')
View(melt)
hmex <- read.csv('Data/honddev2017mex.csv')
hmex$pais <- 'Honduras'
hmex$deported <- 'Mexico'
husa <- read.csv('Data/honddev2017usa.csv')
husa$pais <- 'Honduras'
husa$deported <- 'USA'
gmex <- read.csv('Data/guatedev2017mex.csv')
gmex$pais <- 'Guatemala'
gmex$deported <- 'Mexico'
gusa <- read.csv('Data/guatedev2017usa.csv')
gusa$pais <- 'Guatemala'
gusa$deported <- 'USA'
emex <- read.csv('Data/elsdev2017mex.csv')
emex$pais <- 'El Salvador'
emex$deported <- 'Mexico'
eusa <- read.csv('Data/elsdev2017usa.csv')
eusa$pais <- 'El Salvador'
eusa$deported <- 'USA'
usa1 <- smartbind(eusa, gusa)
usa <- smartbind(usa1, husa)
rm(usa1)
mex1 <- smartbind(emex, gmex)
mex <- smartbind(mex1, hmex)
rm(mex1)
## Get data into percentages of each event
usa_g <- usa %>%
select(sexo, pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13) %>%
group_by(sexo, pais) %>%
filter(p18_1 > 0, p18_2 > 0, p18_3 >0, p18_4 > 0, p18_5 > 0, p18_6 > 0, p18_7 > 0, p18_8 > 0, p18_9 > 0, p18_10 > 0, p18_11 > 0, p18_12 > 0, p18_13 > 0) %>%
filter(p18_1 < 10, p18_2 < 10, p18_3 <10, p18_4 < 10, p18_5 < 10, p18_6 < 10, p18_7 < 10, p18_8 < 10, p18_9 < 10, p18_10 < 10, p18_11 < 10, p18_12 < 10, p18_13 < 10)
usa_g[usa_g==2] <- 0
# since it's 0 and 1, a mean will work
usa_perc <- usa_g %>%
group_by(sexo, pais) %>%
summarise_all(mean) %>%
select(sexo, pais, p18_1, p18_2, p18_6, p18_8, p18_9)
# Rename columns
colnames(usa_perc)[colnames(usa_perc)=="p18_1"] <- "Extreme Cold"
colnames(usa_perc)[colnames(usa_perc)=="p18_2"] <- "Lack of Food"
colnames(usa_perc)[colnames(usa_perc)=="p18_6"] <- "Lost"
colnames(usa_perc)[colnames(usa_perc)=="p18_8"] <- "Abandoned by Coyote"
colnames(usa_perc)[colnames(usa_perc)=="p18_9"] <- "Assault or Robbery"
# Melt
library(reshape2)
usa_perc$melt <- row.names(usa_perc[2:6])
melt <- melt(usa_perc, id='melt')
View(melt)
View(usa_perc)
hmex <- read.csv('Data/honddev2017mex.csv')
hmex$pais <- 'Honduras'
hmex$deported <- 'Mexico'
husa <- read.csv('Data/honddev2017usa.csv')
husa$pais <- 'Honduras'
husa$deported <- 'USA'
gmex <- read.csv('Data/guatedev2017mex.csv')
gmex$pais <- 'Guatemala'
gmex$deported <- 'Mexico'
gusa <- read.csv('Data/guatedev2017usa.csv')
gusa$pais <- 'Guatemala'
gusa$deported <- 'USA'
emex <- read.csv('Data/elsdev2017mex.csv')
emex$pais <- 'El Salvador'
emex$deported <- 'Mexico'
eusa <- read.csv('Data/elsdev2017usa.csv')
eusa$pais <- 'El Salvador'
eusa$deported <- 'USA'
usa1 <- smartbind(eusa, gusa)
usa <- smartbind(usa1, husa)
rm(usa1)
mex1 <- smartbind(emex, gmex)
mex <- smartbind(mex1, hmex)
rm(mex1)
## Get data into percentages of each event
usa_g <- usa %>%
select(sexo, pais, p18_1, p18_2, p18_3, p18_4, p18_5, p18_6, p18_7, p18_8, p18_9, p18_10, p18_11, p18_12, p18_13) %>%
group_by(sexo, pais) %>%
filter(p18_1 > 0, p18_2 > 0, p18_3 >0, p18_4 > 0, p18_5 > 0, p18_6 > 0, p18_7 > 0, p18_8 > 0, p18_9 > 0, p18_10 > 0, p18_11 > 0, p18_12 > 0, p18_13 > 0) %>%
filter(p18_1 < 10, p18_2 < 10, p18_3 <10, p18_4 < 10, p18_5 < 10, p18_6 < 10, p18_7 < 10, p18_8 < 10, p18_9 < 10, p18_10 < 10, p18_11 < 10, p18_12 < 10, p18_13 < 10)
usa_g[usa_g==2] <- 0
# since it's 0 and 1, a mean will work
usa_perc <- usa_g %>%
group_by(sexo, pais) %>%
summarise_all(mean) %>%
select(sexo, pais, p18_1, p18_2, p18_6, p18_8, p18_9)
# Rename columns
colnames(usa_perc)[colnames(usa_perc)=="p18_1"] <- "Extreme Cold"
colnames(usa_perc)[colnames(usa_perc)=="p18_2"] <- "Lack of Food"
colnames(usa_perc)[colnames(usa_perc)=="p18_6"] <- "Lost"
colnames(usa_perc)[colnames(usa_perc)=="p18_8"] <- "Abandoned by Coyote"
colnames(usa_perc)[colnames(usa_perc)=="p18_9"] <- "Assault or Robbery"
melt <- melt(usa_perc, id=c('Extreme Cold', 'Lack of Food', 'Lost', 'Abandoned by Coyote', 'Assault or Robbery'))
View(melt)
rm(melt)
usa_perc$melt <- colnames(usa_perc[2:6])
melt <- melt(usa_perc, id.vars=c('Extreme Cold', 'Lack of Food', 'Lost', 'Abandoned by Coyote', 'Assault or Robbery'))
View(melt)
melt <- melt(usa_perc, id.vars=c('sexo', 'pais'))
View(melt)
mario_theme <- theme(plot.title = element_text(color='#7a0177', size=14, face='bold'),
plot.subtitle = element_text(color='black', size=12, face='italic'),
axis.title.x = element_text(color='black', size=10),
axis.title.y = element_text(color='black', size=10),
plot.caption = element_text(color='grey', size=8),
legend.title = element_text(face='bold', size=8),
legend.position = 'bottom', legend.direction = 'horizontal', legend.box = 'horizontal',
legend.key.size = unit(0.5, 'cm'),
panel.background = element_blank())
plot <- ggplot(melt, x=variable, y=value, fill=pais) + geom_bar()
plot + mario_theme
plot <- ggplot(melt, x=variable, y=value, fill=pais) + geom_bar(stat='identity')
plot + mario_theme
plot <- ggplot(melt, aes(x=variable, y=value, fill=pais) + geom_bar(stat='identity'))
plot + mario_theme
plot <- ggplot(melt, aes(x=variable, y=value, fill=pais)) + geom_bar(stat='identity')
plot + mario_theme
plot <- ggplot(melt, aes(x=variable, y=value, fill=pais)) + geom_bar(stat='identity') +
scale_fill_brewer(palette='RdPu')
plot + mario_theme
plot <- ggplot(melt, aes(x=variable, y=value, fill=pais)) + geom_bar(stat='identity') +
coord_polar() +
scale_fill_brewer(palette='RdPu')
plot + mario_theme
plot <- ggplot(melt, aes(x=variable, y=value, fill=pais)) + geom_bar(stat='identity') +
coord_polar() +
scale_fill_brewer(palette='RdPu') + xlab("") + ylab("")
plot + mario_theme
sec <- read.csv('Data/security.csv')
hond_sec <- subset(sec, country_name == 'Honduras')
hond_sec$dac_sector_name[is.na(hond_sec$dac_sector_name)] <- "Conflict, Peace, and Security"
sec <- read.csv('Data/security.csv')
hond_sec <- subset(sec, country_name == 'Honduras')
hond_sec$dac_sector_name[is.na(hond_sec$dac_sector_name)] <- "Conflict, Peace, and Security"
View(hond_sec)
na.omit(hond_sec)
usaid_hond <- na.omit(hond_sec)
View(usaid_hond)
install.packages('tidyverse')
install.packages("tidyverse")
library(tidyverse)
mario_theme <- theme(plot.title = element_text(color='#7a0177', size=14, face='bold'),
plot.subtitle = element_text(color='black', size=12, face='italic'),
axis.title.x = element_text(color='black', size=10),
axis.title.y = element_text(color='black', size=10),
plot.caption = element_text(color='grey', size=8),
legend.title = element_text(face='bold', size=8),
legend.position = 'bottom', legend.direction = 'horizontal', legend.box = 'horizontal',
legend.key.size = unit(0.5, 'cm'),
panel.background = element_blank())
plot <- ggplot(usaid_hond, aes(area= current_amount, label = dac_purpose_name, subgroup=dac_sector_name)) +
geom_treemap() +
geom_treemap_subgroup_border()
library(treemapify)
install.packages('treemapify')
library(treemapify)
plot + mario_theme
plot <- ggplot(usaid_hond, aes(area= current_amount, label = dac_purpose_name, subgroup=dac_sector_name)) +
geom_treemap()
plot + mario_theme
plot <- ggplot(usaid_hond, aes(area= current_amount, label = dac_purpose_name, subgroup=dac_sector_name)) +
geom_treemap() +
geom_treemap_subgroup_border()
plot + mario_theme
plot <- ggplot(usaid_hond, aes(area = current_amount, label = dac_sector_name, subgroup=dac_purpose_name)) +
geom_treemap() +
geom_treemap_subgroup_border()
plot + mario_theme
plot
ggplot(usaid_hond, aes(area = current_amount, fill = id, label = dac_purpose_name, subgroup = dac_sector_name)) +
geom_treemap() +
geom_treemap_text(grow = T, reflow = T, colour = "black") +
facet_wrap( ~ hemisphere) +
scale_fill_brewer(palette = "Set1") +
theme(legend.position = "bottom") +
labs(
title = "The G-20 major economies by hemisphere",
caption = "The area of each tile represents the country's GDP as a
proportion of all countries in that hemisphere",
fill = "Region"
)
ggplot(usaid_hond, aes(area = current_amount, fill = id, label = dac_purpose_name, subgroup = dac_sector_name)) +
geom_treemap() +
geom_treemap_text(grow = T, reflow = T, colour = "black") +
facet_wrap( ~ dac_sector_name) +
scale_fill_brewer(palette = "Set1") +
theme(legend.position = "bottom") +
labs(
title = "The G-20 major economies by hemisphere",
caption = "The area of each tile represents the country's GDP as a
proportion of all countries in that hemisphere",
fill = "Region"
)
ggplot(usaid_hond, aes(area = current_amount, fill = dac_sector_name, label = dac_purpose_name)) +
geom_treemap() +
geom_treemap_text(grow = T, reflow = T, colour = "black") +
facet_wrap( ~ dac_sector_name) +
scale_fill_brewer(palette = "Set1") +
theme(legend.position = "bottom") +
labs(
title = "The G-20 major economies by hemisphere",
caption = "The area of each tile represents the country's GDP as a
proportion of all countries in that hemisphere",
fill = "Region"
)
ggplot(usaid_hond, aes(area = current_amount, fill = dac_sector_name, label = dac_purpose_name)) +
geom_treemap() +
geom_treemap_text(grow = T, reflow = T, colour = "black") +
facet_wrap( ~ dac_sector_name) +
scale_fill_brewer(palette = "RuPD") +
theme(legend.position = "bottom") +
labs(
title = "The G-20 major economies by hemisphere",
caption = "The area of each tile represents the country's GDP as a
proportion of all countries in that hemisphere",
fill = "Region"
)
ggplot(usaid_hond, aes(area = current_amount, fill = dac_sector_name, label = dac_purpose_name)) +
geom_treemap() +
geom_treemap_text(grow = T, reflow = T, colour = "black") +
facet_wrap( ~ dac_sector_name) +
scale_fill_brewer(palette = "RuPd") +
theme(legend.position = "bottom") +
labs(
title = "The G-20 major economies by hemisphere",
caption = "The area of each tile represents the country's GDP as a
proportion of all countries in that hemisphere",
fill = "Region"
)
ggplot(usaid_hond, aes(area = current_amount, fill = dac_sector_name, label = dac_purpose_name)) +
geom_treemap() +
geom_treemap_text(grow = T, reflow = T, colour = "black") +
facet_wrap( ~ dac_sector_name) +
scale_fill_gradient(low='#feebe2', high='#7a0177') +
theme(legend.position = "bottom") +
labs(
title = "The G-20 major economies by hemisphere",
caption = "The area of each tile represents the country's GDP as a
proportion of all countries in that hemisphere",
fill = "Region"
)
plot <- ggplot(usaid_hond, aes(area = current_amount)) + geom_treemap()
plot
rm(mario_theme)
rm(plot)
uh2017 <- usaid_hond $>$
filter(fiscal_year == 2017) %>%
select(dac_sector_name, dac_purpose_name, current_amount) %>%
group_by(dac_sector_name, dac_purpose_name) %>%
add_tally
uh2017 <- usaid_hond %>%
filter(fiscal_year == 2017) %>%
select(dac_sector_name, dac_purpose_name, current_amount) %>%
group_by(dac_sector_name, dac_purpose_name) %>%
add_tally
View(uh2017)
uh2017 <- usaid_hond %>%
filter(fiscal_year == 2017) %>%
select(dac_sector_name, dac_purpose_name, current_amount) %>%
group_by(dac_sector_name, dac_purpose_name)
View(uh2017)
uh2017 <- usaid_hond %>%
filter(fiscal_year == 2017) %>%
select(dac_sector_name, dac_purpose_name, activity_name, current_amount) %>%
group_by(dac_sector_name, dac_purpose_name, activity_name)
uh2017 <- usaid_hond %>%
filter(fiscal_year == 2017) %>%
select(dac_sector_name, dac_purpose_name, activity_name, current_amount) %>%
group_by(dac_sector_name, dac_purpose_name, activity_name) %>%
summarise(total = sum(current_amount))
View(uh2017)
uh2017 <- usaid_hond %>%
filter(fiscal_year == 2017) %>%
select(dac_sector_name, dac_purpose_name, current_amount) %>%
group_by(dac_sector_name, dac_purpose_name) %>%
summarise(total = sum(current_amount))
View(uh2017)
plot <- ggplot(uh2017, aes(area = current_amount)) + geom_treemap()
plot
View(uh2017)
plot <- ggplot(uh2017, aes(area = total)) + geom_treemap()
plot
plot <- ggplot(uh2017, aes(area = total, label = dac_purpose_name, subgroup = dac_sector_name)) + geom_treemap()
plot
plot <- ggplot(uh2017, aes(area = total, label = dac_sector_name, subgroup = dac_purpose_name)) + geom_treemap()
plot
plot <- ggplot(uh2017, aes(area = total, label = dac_sector_name, subgroup = dac_purpose_name)) + geom_treemap()
plot
